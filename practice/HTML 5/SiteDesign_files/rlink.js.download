var gt=Object.defineProperty;var _t=(e,t,n)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>_t(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const mt="/assets/ab-DWUCLfjz.png",pt="/assets/abp-B-IR2hZz.png",bt="/assets/adguard-5fYuaDe3.png",wt="/assets/brave-CptCdM5a.png",yt="/assets/bt-logo-CioIXMoh.svg",vt="/assets/bt-rlink-storage-OAPAZjOc.html",At="/assets/close-pUUxwf_B.svg",St="/assets/opera-Bw-jHxyw.png",Et="/assets/ublock-origin-uCPCPquD.png",Rt="/assets/ublock-J9bayp5W.png",It=e=>new URL(Object.assign({"./ab.png":mt,"./abp.png":pt,"./adguard.png":bt,"./brave.png":wt,"./bt-logo.svg":yt,"./bt-rlink-storage.html":vt,"./close.svg":At,"./opera.png":St,"./ublock-origin.png":Et,"./ublock.png":Rt})[`./${e}`],import.meta.url).href,kt="modulepreload",Pt=function(e){return"/"+e},we={},xt=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=Pt(c),c in we)return;we[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":kt,u||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((L,C)=>{d.addEventListener("load",L),d.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Tt="https://ad-delivery.net/px.gif?ch=2",Lt="https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250",Dt="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();let q=null;async function Ct(){return Promise.all([Ut(),Bt()]).then(e=>(window.__bt_intrnl.aaDetectionResults={ab:e[0],acceptable:e[1]},window.__bt_intrnl.aaDetectionResults))}async function Mt(){return window.__bt_intrnl.aaDetectionResults?window.__bt_intrnl.aaDetectionResults:q||(q=Ct(),q)}async function Ut(){const[e,t]=await Promise.all([te(Tt),te(Lt)]),n=Ot();return(e?n||t:n&&t)||!1}async function Bt(e=Dt){return!await te(e)}async function te(e){if(await Nt(e))return!0;try{const n=await fetch(e);if(n.redirected&&n.url==="data:text/plain;base64,Cg==")throw new Error("Extension driven redirect detected");return!1}catch{return!0}}function Ot(){const e=document.createElement("div");e.innerHTML="&nbsp;",e.className="ads ad adsbox doubleclick ad-placement carbon-ads adglare",e.setAttribute("id","bt-bait-element"),e.style.cssText="width: 1px !important; height: 1px !important; position: absolute !important; left: -5000px !important; top: -5000px !important;";try{(window.document.body||window.document.documentElement).appendChild(e);const t=document.getElementById("bt-bait-element");if(t.offsetHeight===0||t.clientHeight===0)return K(e),!0;if(window.getComputedStyle!==void 0){const n=window.getComputedStyle(t,null);if(n&&(n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"))return K(e),!0}}catch{return K(e),null}return K(e),!1}function Nt(e,t="img"){return new Promise(n=>{const r=document.createElement(t);r.style.setProperty("display","none","important"),r.style.setProperty("width","1px","important"),r.style.setProperty("height","1px","important");let o=!1;function i(a){o||(o=!0,n(a))}r.addEventListener("error",function(){i(!0)}),r.addEventListener("load",function(){i(!1)}),r.src=e,(window.document.body||window.document.documentElement).appendChild(r)})}function K(e){(window.document.body||window.document.documentElement).removeChild(e)}const Be=()=>[{key:"bt_mwr",val:"true"},{key:"bt_wid",val:B}],Ht=()=>{Ft(),jt()},Ft=()=>{const e=Wt();return e.length===0?!1:(e.forEach(t=>Vt(t)),!0)},Wt=()=>window._pbjsGlobals?window._pbjsGlobals.map(e=>window[e]).filter(Boolean).map(qt):[],Vt=e=>{Be().forEach(n=>{e.bidderSettings.standard.adserverTargeting.push(Kt(n.key,n.val))})},qt=e=>{var t,n,r;return e.bidderSettings={...e.bidderSettings,standard:{...(t=e.bidderSettings)==null?void 0:t.standard,adserverTargeting:[...((r=(n=e.bidderSettings)==null?void 0:n.standard)==null?void 0:r.adserverTargeting)||[]]}},e},Kt=(e,t)=>({key:e,val:()=>t}),jt=()=>{var e,t;(t=(e=window.googletag)==null?void 0:e.cmd)==null||t.push(function(){Be().forEach(r=>{window.googletag.pubads().setTargeting(r.key,r.val)})})},Oe=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>{const n=e.get(t);return n==="true"?!0:n==="false"?!1:n}}),zt=Oe.bt_env||"prod",D=Oe.preview??!1;async function U(e){const t=await dt();D||Gt({traceID:nt,sessionID:rt,orgID:Number(M),websiteID:Number(B),scriptVersion:"9adebee-am",scriptLoadingMode:window.__bt_rlink_loaded_from_tag?"inject_from_tag_script":"standalone",meta:{pageURL:window.location.href,"abtest-presentation-version":t.view,consentData:window.__bt_intrnl.consentData},...e})}function Gt(e){return fetch(`https://${T}/events/mw`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"no-cors",keepalive:!0})}const $t="chrome-extension://gighmmpiobklfepjocnamgkkbiglidom/icons/ab-19.png",Yt="https://ad-delivery.net/px.gif?ch=2",Xt="https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250",Jt="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();async function Qt(){try{return(await fetch(new Request($t))).ok?"ab":void 0}catch{return}}async function Zt(){try{const e=navigator.userAgent;if(e.includes("OPR/")||e.includes("Opera/")||window.opr!==void 0)return"opr"}catch{return}}async function en(){try{const e=await fetch(new Request(`https://${$r}/webfonts43j533.js`));return!e.ok&&e.status===404?null:void 0}catch{return"ublock"}}async function tn(){for(const e of[Yt,Xt,Jt])try{const t=await fetch(e);if(t.redirected&&t.url==="data:text/plain;base64,Cg==")return"ublockorigin"}catch{continue}}async function nn(){try{if(navigator.brave!==void 0&&navigator.brave.isBrave.name==="isBrave")return"brave"}catch{return}}async function rn(){const[e,t,n,r,o]=await Promise.all([Qt(),Zt(),en(),nn(),tn()]);return e||t||n||r||o||"unknown"}var h=(e=>(e.Session="session",e.Local="local",e))(h||{}),m=(e=>(e.Get="get-data",e.Set="set-data",e.Delete="remove-data",e))(m||{});const on="tid",an="cv",sn="sid",Ne={};function ye(e,t){Ne[e]=t}async function w(e,t={},n={severity:1}){var c;if(D)return;const r={[on]:nt,[an]:((c=window.__bt_tag_d)==null?void 0:c.version)||"",[sn]:rt,upapi:String(!0)},o={...Ne,...t},i={event:e,meta:o,orgID:M,severity:n.severity,websiteID:B},a=new URLSearchParams(r),s=new URL(`https://${T}/log?`+a);return fetch(s,{method:"POST",body:JSON.stringify(i),keepalive:!0})}function cn(e){return Math.floor(Math.random()*Math.floor(e))}function ln(e=1){return cn(100)<e}let g=null;const ne=It("bt-rlink-storage.html"),He="rlink-storage",un=3e3,dn=async()=>{if(g=document.getElementById(He),g)return g;try{g=await fn(ne)}catch(e){throw new Error(`Failed to initialize iframe: ${e}`)}},fn=e=>new Promise((t,n)=>{if(g){t(g);return}g=document.createElement("iframe"),g.src=e,g.id=He,g.style.display="none",document.body.appendChild(g),g.onload=()=>{t(g)},g.onerror=()=>{n("Failed to load iframe")}}),hn=async()=>{g||await dn()};async function Fe(e){try{return await hn(),g!=null&&g.contentWindow?new Promise((t,n)=>{const r={...e,trustedRLEvent:!0};if(!r.action||!r.key||!r.storageType)return n(new Error("Invalid message format"));const o=new URL(ne).origin,i=c=>{c.origin===o&&c.data.source==="bt-rlink-storage"&&(a(),c.data.status==="success"?t(c.data.value):n(new Error("Failed to handle the message")))},a=()=>{window.removeEventListener("message",i),clearTimeout(s)},s=setTimeout(()=>{a(),n(new Error("Iframe response timed out"))},un);window.addEventListener("message",i),g.contentWindow.postMessage(r,ne)}):void 0}catch(t){w("rlink.iframe-error",{error:t instanceof Error?t.message:t});return}}const k=async(e,t)=>Fe({action:m.Get,storageType:e,key:t}).then(n=>n),v=async(e,t,n,r)=>{const o=t===h.Local?localStorage:sessionStorage;return e===m.Delete?o.removeItem(n):e===m.Set&&o.setItem(n,r),Fe({action:e,storageType:t,key:n,value:r}).then(()=>null)},b="BT_AM_SOFTWALL_RENDERED";async function xo(){const e=sessionStorage.getItem(b)==="true";return e||k(h.Session,b).then(t=>(t&&sessionStorage.setItem(b,t),t==="true"))}async function gn(e){if(window.__bt_intrnl.recoveryUserAttr)return window.__bt_intrnl.recoveryUserAttr.mwRendered;const t=!!localStorage.getItem(b);return t||k(h.Local,b).then(n=>{const r=!!n;if(n)localStorage.setItem(b,n);else if(!r&&e.enabled)return dr().then(()=>!!localStorage.getItem(b)).catch(()=>!1);return r})}async function $(){const e=localStorage.getItem(b);return e?new Date(e):k(h.Local,b).then(t=>{if(t)return localStorage.setItem(b,t),new Date(t)})}const To=async()=>(await _n(),Qe()),_n=()=>Promise.all([v(m.Set,h.Session,b,"true"),v(m.Set,h.Local,b,new Date().toUTCString())]),mn=e=>{localStorage.setItem(b,new Date(e).toUTCString())},We=()=>Promise.all([v(m.Delete,h.Session,b),v(m.Delete,h.Local,b)]),P="BT_AM_SOFTWALL_DISMISSED";async function pn(){const e=sessionStorage.getItem(P);return e?ve(e):k(h.Session,P).then(t=>{if(t)return sessionStorage.setItem(P,t),ve(t)})}async function bn(){return sessionStorage.getItem(P)?!0:k(h.Session,P).then(e=>e?(sessionStorage.setItem(P,e),!0):!1).catch(()=>!1)}const wn=e=>v(m.Set,h.Session,P,JSON.stringify(e)),yn=()=>v(m.Delete,h.Session,P);function ve(e){if(e)try{return JSON.parse(e)}catch{return}}const H="BT_AM_ATTRIBUTION_EXPIRY";async function Ve(){if(window.__bt_intrnl.recoveryUserAttr)return window.__bt_intrnl.recoveryUserAttr.attributionExpiry;const e=localStorage.getItem(H);return e?Number(e):k(h.Local,H).then(t=>{if(t)return localStorage.setItem(H,t),Number(t)}).catch(()=>{})}const qe=async e=>v(m.Set,h.Local,H,e.toString()),vn=async()=>v(m.Delete,h.Local,H),ie="BT_AM_SCA_SUCCEED",Ke=()=>sessionStorage.getItem(ie)==="true",Lo=e=>sessionStorage.setItem(ie,e.toString()),An=()=>sessionStorage.removeItem(ie),x="BT_AM_SOFTWALL_RECOVERED";async function Sn(){return localStorage.getItem(x)?!0:k(h.Local,x).then(e=>e?(localStorage.setItem(x,e),!0):!1).catch(()=>!1)}async function En(e,t,n){const r=await je();let o;t.ab?t.acceptable&&!e.allow_render_to_aa_users&&(o="AA"):o="AB";const i=await Pn();if((r||!i)&&o===void 0&&We(),!(!r&&!i)){if(o==="AB"){const a=Ke();o=(n==null?void 0:n.status)&&(n==null?void 0:n.source)==="1ca"||a?"SCA":o}return o}}async function je(){if(window.__bt_intrnl.recoveryUserAttr)return window.__bt_intrnl.recoveryUserAttr.recoveryType;const e=localStorage.getItem(x);return e||k(h.Local,x).then(t=>{if(t)return localStorage.setItem(x,t),t}).catch(()=>{})}const Rn=async(e,t)=>Promise.all([ze(e),qe(t),Qe(e,t)]).then(()=>null),ze=e=>v(m.Set,h.Local,x,e),In=()=>v(m.Delete,h.Local,x),kn=7,Pn=()=>$().then(e=>e?xn(e)<=kn:!1),xn=(e,t=new Date)=>Math.round(Math.abs(e.getTime()-t.getTime())/he),ae="BT_AM_SOFTWALL_REDIRECT",Do=()=>sessionStorage.getItem(ae)==="true",Co=()=>sessionStorage.setItem(ae,"true"),Tn=()=>sessionStorage.removeItem(ae),se="BT_AM_SOFTWALL_BOUNCE",Ln=()=>sessionStorage.getItem(se)==="true",Dn=()=>sessionStorage.setItem(se,"true"),Cn=()=>sessionStorage.removeItem(se),ce="BT_AM_PREMIUM_ADBLOCK_USER_DETECTED",le="BT_AM_PREMIUM_ADBLOCK_USER_DETECTION_DATE",Q=()=>{throw localStorage.removeItem(ce),localStorage.removeItem(le),new Error("invalid or inexistent premium detection data")},Mn=()=>{const e=localStorage.getItem(le),t=localStorage.getItem(ce);try{(!e||!t)&&Q();const n=new Date(e);Date.now()-n.getTime()>he&&Q();const r=JSON.parse(t);return(typeof r!="object"||r===null||!("isPremium"in r)||!("extensionInfo"in r))&&Q(),{isPremium:r.isPremium,extensionInfo:r.extensionInfo}}catch{return null}},Un=e=>{localStorage.setItem(ce,JSON.stringify(e)),localStorage.setItem(le,new Date().toUTCString())},ue="BT_AM_SOFTWALL_RENDER_COUNT",de="BT_AM_SOFTWALL_DISMISS_COUNT",Ae=e=>F(e).then(t=>Bn(t+1,e));async function F(e){const t=e==="dismiss"?de:ue,n=localStorage.getItem(t);return n?Number(n):k(h.Local,t).then(r=>r?(localStorage.setItem(t,r),Number(r)):0)}const Bn=(e,t)=>v(m.Set,h.Local,t==="dismiss"?de:ue,e.toString()),Ge=()=>Promise.all([v(m.Delete,h.Local,de),v(m.Delete,h.Local,ue)]);var Le;const On=((Le=window.__bt_intrnl)==null?void 0:Le.timings)??{shouldLog:!1},Nn=Date.now(),{shouldLog:Hn}=On;function Fn(){const e="timing.rlinkScriptLoaded",t={timestamp:String(Nn)};Hn&&w(e,t)}const Wn=2;async function Vn(){return new Promise((e,t)=>{if(typeof(S==null?void 0:S.__tcfapi)=="function"){const n=(r,o)=>{o?e(r):t("failed to get TCData")};S.__tcfapi("addEventListener",Wn,n)}t("tcfapi not found")})}const qn=e=>(e==null?void 0:e.eventStatus)==="tcloaded"?!1:(e==null?void 0:e.eventStatus)==="useractioncomplete"||(e==null?void 0:e.eventStatus)==="cmpuishown",Kn=e=>{var t;return e?e.gdprApplies===!1?!0:!!(!jn((t=e.purpose)==null?void 0:t.consents)&&zn(e.purpose)):!1},jn=(e={})=>!Object.values(e).some(Boolean),zn=e=>[1,2,3,4,7,9,10].every(n=>{var r;return(r=e==null?void 0:e.consents)==null?void 0:r[n]}),Gn=e=>{const t={tcDataDefined:!!e,gdprApplies:e==null?void 0:e.gdprApplies};return!e||e.gdprApplies===!1?{consentShownInCurrentPV:!1,isConsentGiven:!0,meta:t}:{consentShownInCurrentPV:qn(e),isConsentGiven:Kn(e),meta:t}};async function $n(){return Vn().then(e=>Gn(e)).catch(e=>(ln()&&w("rlink.getConsent",{pageURL:S.location.href,error:e},{severity:3}),{consentShownInCurrentPV:!1,isConsentGiven:!0,meta:{tcDataDefined:!1}}))}async function Se(){await Promise.all([We(),yn(),vn(),In(),Ge()]),Tn(),Cn(),An()}async function Yn(){const[e,t,n]=await Promise.all([$(),Ve(),je()]);if(!(!e&&!n&&!t))return{recoveryType:n,renderDate:e,attributionExpiry:t}}const Xn=`MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEApyRTinEzv3cHH2bn6WSF
myqzDE/Ub8Xh/jhGWsSgHiJ6A/iM9GdlEE3WDl6ITw2ssuQ1xELT2xRpP9vR8OHR
YvyMfQtsjOsvMhXuR3X5Cf2nqSEo5ShihdE2W9kXxxWqs3yx4odnan6W65rfQWal
EJ8Y5viVEckj8x65+PTsDKfNtXMEvHqqrX9SaPC5rnZuWKkPuEJJna5ux/MEHuHQ
D6SFqhtPGKUYKf16pCFLD9oh6s6XcLST8GRZ2ySgdJKTMkHOHjjPkzXxYmTC1fYD
YO/THL+c9KvCpCWDd0yA6wEVABx2m7SYZzLkYVEze4SghGYQhWXLNwtj5tVzYGn0
+FoSNd9l3KJK/ULLd0HopuqYmz6TaK53x2rnjQ19epKSinRdPskmnz9RPzxojfli
SZgTQw47d6VV8J3K5HoLHtZ8vDD+KtYDNqHgLIG5jLsQLowetQAeRHqvo+KuIlzN
hIlNNOVq+Wlfe3nSsXlZGnKkqGC/4Bc39o82G4POR8qv98DRKm/6ihQAmWP7DUK2
HTumpVCsP4FRdaE2BT5BaAdXtoLmfHw6CsBSGFY0ZRmETsIIPhs8BIZg2EDd+Y/X
0Y8npvz5k4HxbTHS6pPO4hloPRwJ2MGZWwWtI2IppR749tONgOm4FI9tjUFLMLgU
ObHdD9PpRCG9MkGls9iSadkCAwEAAQ==`,$e={name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-512"}};function Ye(e){if(typeof window<"u"&&window.atob)return window.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Unable to decode base64 string: No suitable method found")}const Xe=e=>new Uint8Array(Array.from(Ye(e),t=>t.charCodeAt(0)));function Jn(e){return crypto.subtle.importKey("spki",Xe(e),$e,!1,["verify"])}async function Qn(e,t,n){return await crypto.subtle.verify($e,await Jn(e),t,n)}function Zn(e){return Qn(Xn,Xe(e.signature),new TextEncoder().encode(e.encodedData))}class er{constructor(t){R(this,"singletonDetection");R(this,"premiumBypassModeEnabled");R(this,"RLEnabled");this.RLEnabled=t.enabled,this.premiumBypassModeEnabled=t.premium_bypass_mode_enabled,this.singletonDetection=this.detectPremiumABUser()}async detectPremiumABUser(){return this.singletonDetection!==void 0?this.singletonDetection:(this.singletonDetection=new Promise(t=>{this.handlePreviousDetection(t)}),this.singletonDetection)}handlePreviousDetection(t){if(D||!this.RLEnabled){t({isPremium:!1,extensionInfo:null});return}const n=Mn();if(n){t(n);return}this.fetchAndHandlePayload(t)}async fetchAndHandlePayload(t){let n=!1;const r=o=>{n||(t(o),n=!0)};try{const i=await(await fetch(`https://${T}/mw/sign_pbm?w=${B}&bt_env=${W}`)).json(),a=setTimeout(()=>{r({isPremium:!1,extensionInfo:null}),document.removeEventListener("flattr-payload",s)},1e3),s=async u=>{clearTimeout(a),document.removeEventListener("flattr-payload",s);let p=!1,d=null;if(this.premiumBypassModeEnabled&&typeof u.detail.payload=="string"){const[L,C]=u.detail.payload.split(".");try{if(await Zn({encodedData:L,signature:C})){const{isPaying:X,expiresAt:V}=JSON.parse(Ye(L));X&&Date.now()<Number(V)&&(p=!0)}}catch(O){console.error("Error verifying premium signature:",O)}}u.detail.extensionInfo&&(d=u.detail.extensionInfo),r({isPremium:p,extensionInfo:d})};document.addEventListener("flattr-payload",s);const c=new CustomEvent("flattr-request-payload",{detail:i});document.dispatchEvent(c)}catch{r({isPremium:!1,extensionInfo:null})}}}let Z=null;async function tr(e){return Z||(Z=new er(e)),Z.detectPremiumABUser()}const Je="btUserCountry";let ee;const nr=async()=>{let e=sessionStorage.getItem(Je)||void 0;return e||(ee||(ee=rr()),e=await ee,e&&or(e),e)},rr=async()=>{const e=window.__bt_tag_am.settings;try{const t=await fetch(`https://${T}/country`);if(!t.ok)throw new Error(`Request failed. Status: ${t.status}. Raw: ${await t.text()}`);const n=await t.json();if(!n.country)throw new Error(`unexpected response: ${JSON.stringify(n)}`);return n.country}catch(t){w("rlink.detectCountry",{settings:{countryList:e.country_code_list,countryMode:e.country_code_mode,renderToAA:e.allow_render_to_aa_users,singleClick:e.single_click_enabled},aaResults:window.__bt_intrnl.aaDetectionResults,countryError:t.message,pageURL:window.location.href},{severity:4});return}},or=e=>{sessionStorage.setItem(Je,e)};async function ir(e){var a,s;if(!e.enabled||fe())return!1;const t=window.location.href;if((a=e.allowlisted_urls)!=null&&a.some(c=>t.startsWith(c)))return!1;const[n,r,o]=await Promise.all([$(),F("render"),F("dismiss")]);if(n&&sr(new Date,n)<e.render_interval_days)return!1;if(e.country_code_list&&e.country_code_list.length>0){const c=await nr();if(window.__bt_intrnl.country=c,!c)return!1;const u=e.country_code_list.includes(c.toUpperCase());if(u&&e.country_code_mode==="excluding"||!u&&e.country_code_mode==="including")return!1}if(e!=null&&e.dynamic_message_wall_mode_enabled){const c=((s=e==null?void 0:e.dynamic_wall_settings)==null?void 0:s.pageviews_count)||0;if(o===0&&r===0)return!0;if(r<=c)return Ae("render"),r+1>=c}else if(r<e.page_views_to_render)return Ae("render"),!1;return!0}const ar=(e,t)=>e&&(!e.ab||e.acceptable&&!t),sr=(e,t)=>{const n=e.getTime()-t.getTime();return Math.round(n/(1e3*3600*24))};function fe(){const e=navigator.userAgent||navigator.vendor||window.opera;return e?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)):!1}const he=24*3600*1e3,cr=365;function lr(e){return(!e||e<=0)&&(e=cr),Date.now()+he*e}function ur(e){return Date.now()>e}async function Qe(e,t){return D?Promise.resolve():$().then(n=>{fr({recoveryType:e,renderDate:n||new Date,attributionExpiry:t})})}async function dr(){return D?Promise.resolve():fetch(`https://${T}/mw/state?bt_env=${W}`).then(e=>e.json()).then(e=>{const{renderDate:t,recoveryType:n,attributionExpiry:r}=e||{};window.__bt_intrnl.recoveryUserAttr=window.__bt_intrnl.recoveryUserAttr||{mwRendered:!1,recoveryType:void 0,attributionExpiry:void 0},(t||n||r)&&w("rlink.restoreServerSideAttribution",{aaResults:window.__bt_intrnl.aaDetectionResults,serverSideAttribution:e},{severity:2}),t&&(window.__bt_intrnl.recoveryUserAttr.mwRendered=!0,mn(t)),n&&(window.__bt_intrnl.recoveryUserAttr.recoveryType=n,window.__bt_intrnl.recoveryUserAttr.attributionExpiry=r,ze(n),qe(r))}).catch(()=>null)}function fr(e){return fetch(`https://${T}/mw/state/recovered?bt_env=${W}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"no-cors"})}function hr(){let e=window;try{if(top.document)return top}catch{}try{for(;e.parent.document;)e=e.parent}catch{}return e}const S=hr();function gr(){try{return document.location.hostname!==""&&document.location.hostname!==window.parent.location.hostname}catch{return!0}}const _r=gr();function mr(){try{return new URL(_r?S.document.referrer:S.location.href)}catch{return new URL(S.location.href)}}const pr=mr(),Ze=async(e,t)=>{const r=await Ve()||lr(t),o=ur(r);return{isActive:(e==="AB"||e==="SCA")&&!o,attributionExpiry:r}},ge=()=>{const e=[],{languages:t,language:n}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);if(n&&e.push(n),e.length>0){const r=e[0],o=r.replace("-","_").split("_");return o[0]==="zh"?br(r):o[0].toUpperCase()}return"EN"},br=e=>{switch(e){case"zh_TW":case"zh-TW":return"TW";default:return"ZH"}},Mo={name:"rlinkDetector",lookup(){return ge()}};function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(e)}var wr=/^\s+/,yr=/\s+$/;function l(e,t){if(e=e||"",t=t||{},e instanceof l)return e;if(!(this instanceof l))return new l(e,t);var n=vr(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,o,i,a,s;return n=t.r/255,r=t.g/255,o=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*i+.7152*a+.0722*s},setAlpha:function(t){return this._a=et(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Re(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Re(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+o+"%)":"hsva("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=Ee(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Ee(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+o+"%)":"hsla("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return Ie(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Rr(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(f(this._r,255)*100)+"%",g:Math.round(f(this._g,255)*100)+"%",b:Math.round(f(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(f(this._r,255)*100)+"%, "+Math.round(f(this._g,255)*100)+"%, "+Math.round(f(this._b,255)*100)+"%)":"rgba("+Math.round(f(this._r,255)*100)+"%, "+Math.round(f(this._g,255)*100)+"%, "+Math.round(f(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Or[Ie(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+ke(this._r,this._g,this._b,this._a),r=n,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);r="#"+ke(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,o=this._a<1&&this._a>=0,i=!n&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(xr,arguments)},brighten:function(){return this._applyModification(Tr,arguments)},darken:function(){return this._applyModification(Lr,arguments)},desaturate:function(){return this._applyModification(Ir,arguments)},saturate:function(){return this._applyModification(kr,arguments)},greyscale:function(){return this._applyModification(Pr,arguments)},spin:function(){return this._applyModification(Dr,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Ur,arguments)},complement:function(){return this._applyCombination(Cr,arguments)},monochromatic:function(){return this._applyCombination(Br,arguments)},splitcomplement:function(){return this._applyCombination(Mr,arguments)},triad:function(){return this._applyCombination(Pe,[3])},tetrad:function(){return this._applyCombination(Pe,[4])}};l.fromRatio=function(e,t){if(G(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=N(e[r]));e=n}return l(e,t)};function vr(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return typeof e=="string"&&(e=Wr(e)),G(e)=="object"&&(I(e.r)&&I(e.g)&&I(e.b)?(t=Ar(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):I(e.h)&&I(e.s)&&I(e.v)?(r=N(e.s),o=N(e.v),t=Er(e.h,r,o),a=!0,s="hsv"):I(e.h)&&I(e.s)&&I(e.l)&&(r=N(e.s),i=N(e.l),t=Sr(e.h,r,i),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=et(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Ar(e,t,n){return{r:f(e,255)*255,g:f(t,255)*255,b:f(n,255)*255}}function Ee(e,t,n){e=f(e,255),t=f(t,255),n=f(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i,a,s=(r+o)/2;if(r==o)i=a=0;else{var c=r-o;switch(a=s>.5?c/(2-r-o):c/(r+o),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:a,l:s}}function Sr(e,t,n){var r,o,i;e=f(e,360),t=f(t,100),n=f(n,100);function a(u,p,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(p-u)*6*d:d<1/2?p:d<2/3?u+(p-u)*(2/3-d)*6:u}if(t===0)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=a(c,s,e+1/3),o=a(c,s,e),i=a(c,s,e-1/3)}return{r:r*255,g:o*255,b:i*255}}function Re(e,t,n){e=f(e,255),t=f(t,255),n=f(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i,a,s=r,c=r-o;if(a=r===0?0:c/r,r==o)i=0;else{switch(r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:a,v:s}}function Er(e,t,n){e=f(e,360)*6,t=f(t,100),n=f(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),c=r%6,u=[n,a,i,i,s,n][c],p=[s,n,n,a,i,i][c],d=[i,i,s,n,n,a][c];return{r:u*255,g:p*255,b:d*255}}function Ie(e,t,n,r){var o=[E(Math.round(e).toString(16)),E(Math.round(t).toString(16)),E(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Rr(e,t,n,r,o){var i=[E(Math.round(e).toString(16)),E(Math.round(t).toString(16)),E(Math.round(n).toString(16)),E(tt(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function ke(e,t,n,r){var o=[E(tt(r)),E(Math.round(e).toString(16)),E(Math.round(t).toString(16)),E(Math.round(n).toString(16))];return o.join("")}l.equals=function(e,t){return!e||!t?!1:l(e).toRgbString()==l(t).toRgbString()};l.random=function(){return l.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Ir(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=Y(n.s),l(n)}function kr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=Y(n.s),l(n)}function Pr(e){return l(e).desaturate(100)}function xr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=Y(n.l),l(n)}function Tr(e,t){t=t===0?0:t||10;var n=l(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),l(n)}function Lr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=Y(n.l),l(n)}function Dr(e,t){var n=l(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,l(n)}function Cr(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function Pe(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=l(e).toHsl(),r=[l(e)],o=360/t,i=1;i<t;i++)r.push(l({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function Mr(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function Ur(e,t,n){t=t||6,n=n||30;var r=l(e).toHsl(),o=360/n,i=[l(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(l(r));return i}function Br(e,t){t=t||6;for(var n=l(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(l({h:r,s:o,v:i})),i=(i+s)%1;return a}l.mix=function(e,t,n){n=n===0?0:n||50;var r=l(e).toRgb(),o=l(t).toRgb(),i=n/100,a={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return l(a)};l.readability=function(e,t){var n=l(e),r=l(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};l.isReadable=function(e,t,n){var r=l.readability(e,t),o,i;switch(i=!1,o=Vr(n),o.level+o.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};l.mostReadable=function(e,t,n){var r=null,o=0,i,a,s,c;n=n||{},a=n.includeFallbackColors,s=n.level,c=n.size;for(var u=0;u<t.length;u++)i=l.readability(e,t[u]),i>o&&(o=i,r=l(t[u]));return l.isReadable(e,r,{level:s,size:c})||!a?r:(n.includeFallbackColors=!1,l.mostReadable(e,["#fff","#000"],n))};var re=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Or=l.hexNames=Nr(re);function Nr(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function et(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function f(e,t){Hr(e)&&(e="100%");var n=Fr(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Y(e){return Math.min(1,Math.max(0,e))}function y(e){return parseInt(e,16)}function Hr(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Fr(e){return typeof e=="string"&&e.indexOf("%")!=-1}function E(e){return e.length==1?"0"+e:""+e}function N(e){return e<=1&&(e=e*100+"%"),e}function tt(e){return Math.round(parseFloat(e)*255).toString(16)}function xe(e){return y(e)/255}var A=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function I(e){return!!A.CSS_UNIT.exec(e)}function Wr(e){e=e.replace(wr,"").replace(yr,"").toLowerCase();var t=!1;if(re[e])e=re[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=A.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=A.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=A.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=A.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=A.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=A.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=A.hex8.exec(e))?{r:y(n[1]),g:y(n[2]),b:y(n[3]),a:xe(n[4]),format:t?"name":"hex8"}:(n=A.hex6.exec(e))?{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:t?"name":"hex"}:(n=A.hex4.exec(e))?{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),a:xe(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=A.hex3.exec(e))?{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Vr(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function qr(){const e=[],t=new RegExp(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*(0(\.0*)?)\)/);if(document.querySelectorAll("button").forEach(a=>{const s=window.getComputedStyle(a),c=s.getPropertyValue("background-color"),u=s.getPropertyValue("color");s.getPropertyValue("display")!=="none"&&!t.test(c)&&e.push({backgroundColor:c,color:u,classList:a.classList.toString()})}),e.length===0)return null;const n=new RegExp(/btn.*|.*button.*/i),o=e.every(a=>!n.test(a.classList))?e:e.filter(a=>n.test(a.classList));if(o.length===0)return null;if(o.length===1)return oe(o[0].backgroundColor,o[0].color);const{mostFrequentColor:i}=o.reduce((a,s)=>{const c=s.backgroundColor;return a.colors[c]=(a.colors[c]||0)+1,a.colors[c]>a.maxCount&&(a.maxCount=a.colors[c],a.mostFrequentColor={backgroundColor:s.backgroundColor,color:s.color}),a},{colors:{},mostFrequentColor:null,maxCount:0});return oe(i.backgroundColor,i.color)}async function Kr(){var e;try{const t=((e=document.querySelector('link[rel~="icon"]'))==null?void 0:e.href)||new URL("/favicon.ico",window.location.origin).toString(),{width:n,height:r}=await zr(t);return n<35||r<30?null:t}catch{return null}}function jr(){return window.getComputedStyle(document.body).getPropertyValue("font-family")}function zr(e){return new Promise((t,n)=>{const r=new Image;r.src=e,r.onload=()=>t({width:r.width,height:r.height}),r.onerror=n})}function Gr(e){const t=e.toRgb();return(t.r+t.g+t.b)/3>=245}function oe(e,t){const n=l(e);if(!n.isValid())return null;const r=n.toString("hex"),o=n.isLight()?"black":"white";let i=o;if(t){const s=l(t).toString("hex");i=r===s?o:s}const a=Gr(n)?"black":r;return{backgroundColor:r,borderColor:a,color:i}}const T=Qr(),$r=Zr();var De,Ce;let B=(Ce=(De=window.__bt_tag_d)==null?void 0:De.siteInfo)==null?void 0:Ce.websiteID;var Me;const M=((Me=window.__bt_tag_d)==null?void 0:Me.orgID)||Xr(),W=Jr(),Te=eo();var Ue;const nt=((Ue=window.__bt_intrnl)==null?void 0:Ue.traceID)||to(),rt=Yr();function Yr(){let e=sessionStorage.getItem("BT_sid");return e||(e=st(8,10),sessionStorage.setItem("BT_sid",e)),e}function ot(e){const t=new URL(import.meta.url),r=new URLSearchParams(t.search).get(e);if(!r)throw new Error(`${e} query param not found`);return r}function it(e){var t,n;if(["development","test"].includes("production")&&((n=(t=window.__bt_rlink_test)==null?void 0:t.params)!=null&&n[e]))return window.__bt_rlink_test.params[e]}function Xr(){const e=it("o");if(e)return e;const t=ot("o");return window.__bt_tag_d||(window.__bt_tag_d={}),window.__bt_tag_d.orgID=t,t}function Jr(){const e=it("bt_env");if(e)return e;try{return ot("bt_env")}catch{return zt}}function Qr(){return at("API_DOMAIN","api.btmessage.com")}function Zr(){return at("ASSETS_LOCATION","cdn.btmessage.com")}function at(e,t){if(t==null||t==="")throw new Error("missing env var for "+e);return t}function eo(){var t,n;if(["development","test"].includes("production")&&((t=window.__bt_rlink_test)!=null&&t.hostname))return(n=window.__bt_rlink_test)==null?void 0:n.hostname;let e=pr.hostname;try{if(e==="disqusservice.com"){const r=new URLSearchParams(S.location.search);e=new URL(r.get("sourceUrl")).hostname+"-disqus"}}catch{e=S.location.hostname}return e.startsWith("www.")&&(e=e.replace("www.","")),e}function st(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(Math.random()*(t+1-e))+e;let o="";for(let i=0;i<r;i++)o+=n.charAt(Math.floor(Math.random()*n.length));return o}function to(){return window.__bt_intrnl=window.__bt_intrnl||{},window.__bt_intrnl.traceID=st(8,10),window.__bt_intrnl.traceID}async function no(){var i,a;if(D&&((i=window.__bt_tag_am)!=null&&i.settings))return window.__bt_tag_am.settings;if(window.__bt_tag_am=window.__bt_tag_am||{},!M||!Te)throw new Error("orgID or hostname not found");const e=new URL(`https://${T}/websiteconfig`),t=ge();e.searchParams.set("bt_env",W),e.searchParams.set("o",M),e.searchParams.set("w",Te),e.searchParams.set("l",t);const n=await fetch(e.toString());if(!n.ok)throw new Error(`Settings request failed. URL: ${e}; StatusCode: ${n.status}`);const r=await n.json();window.__bt_tag_am.settings=r.messageWall;const o=(a=r.tagData)==null?void 0:a.w;return window.__bt_tag_d||(window.__bt_tag_d={}),window.__bt_tag_d.siteInfo||(window.__bt_tag_d.siteInfo={}),window.__bt_tag_d.siteInfo.websiteID=o,B=o,window.__bt_tag_am.settings}let j=null;const ro=async()=>j||(j=no(),j),ct=async e=>e.logo||e.disable_automatic_detection?e.logo:Kr(),lt=e=>e.font_type?`${e.font_type}, sans-serif`:e.disable_automatic_detection?'"Segoe UI", Helvetica, Arial, sans-serif;':jr(),ut=e=>e.cta_button_color?oe(e.cta_button_color):e.disable_automatic_detection?null:qr(),dt=async()=>{const e=await ro(),t=e.view||"modal",n=Number(e.page_views_to_render),r=Number(e.render_interval_days),o=Number(e.attribution_window_days),i=!!e.allow_render_to_aa_users,a=await ct(e),s=lt(e),c=ut(e);return await ho(e)&&(e.hard_message_wall_mode_enabled=!0),{...e,logo:a,font_type:s,view:t,page_views_to_render:n,render_interval_days:r,attribution_window_days:o,allow_render_to_aa_users:i,button_style:c,i18n:e.i18n}};async function oo(e,t,n){var i;if(D&&((i=window.__bt_tag_am)!=null&&i.settings))return{settings:window.__bt_tag_am.settings};if(!M||!e||!n)throw new Error("Required data not found to fetch render settings");const r=new URL(`https://${T}/mw/settings`);r.searchParams.set("bt_env",W),r.searchParams.set("o",M),r.searchParams.set("w",e),r.searchParams.set("r",String(n.ab)),r.searchParams.set("aa",String(n.acceptable)),r.searchParams.set("l",ge()),t!=null&&t.renderDate&&r.searchParams.set("rts",t.renderDate.getTime().toString()),t!=null&&t.attributionExpiry&&r.searchParams.set("exp",t.attributionExpiry.toString()),t!=null&&t.recoveryType&&r.searchParams.set("rec",t.recoveryType);const o=await fetch(r.toString(),{method:"GET"});if(!o.ok)throw new Error(`Settings request failed. URL: ${r}; StatusCode: ${o.status}`);return o.status===204?null:await o.json()}let z=null;const io=async(e,t,n)=>z||(z=oo(e,t,n),z),ao=async e=>{if(!e)return null;const t=e.view||"modal",n=Number(e.page_views_to_render),r=Number(e.attribution_window_days),o=!!e.allow_render_to_aa_users,i=await ct({logo:e.logo,disable_automatic_detection:e.disable_automatic_detection}),a=lt({font_type:e.font_type,disable_automatic_detection:e.disable_automatic_detection}),s=ut({cta_button_color:e.cta_button_color,disable_automatic_detection:e.disable_automatic_detection});return{...e,logo:i,view:t,page_views_to_render:n,attribution_window_days:r,allow_render_to_aa_users:o,font_type:a,button_style:s}},so=async(e,t,n)=>{const r=await io(e,t,n);if(r){const o=r.attribution,i=await ao(r.settings),a=i?!1:!!(o!=null&&o.renderDate)&&!!(o!=null&&o.attributionExpiry);return!(t!=null&&t.renderDate)&&!(t!=null&&t.recoveryType)&&a?{settings:i,recovered:a,userState:{renderDate:o==null?void 0:o.renderDate,attributionExpiry:o==null?void 0:o.attributionExpiry,recoveryType:o==null?void 0:o.recoveryType},sign:r.sign,message:"get settings: server side attribution"}:{settings:i,recovered:a,userState:t,sign:r.sign,message:"get settings"}}return{settings:void 0,recovered:!1,sign:null,userState:t,message:"no response"}},co=async(e,t,n)=>{try{return so(e,t,n)}catch(r){return w("rlink.getSettingsError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:r instanceof Error?r.message:r},{severity:4}),{settings:{},recovered:!1,sign:null,userState:t,message:"error on fetch settings"}}};async function lo(e,t,n){const r=await Yn(),o=await co(B,r,t);uo(e,o,n)}function uo(e,t,n){if(!!n!==t.recovered){w("rlink.recoveryStateMismatch",{aaResults:window.__bt_intrnl.aaDetectionResults,swRecovered:n,newSettings:{recovered:t.recovered},storageData:t.userState,message:t.message},{severity:4});return}if(t.settings){const r=t.settings,o=ft(e,r);Object.keys(o).length>0&&w("rlink.settingsMismatch",{aaResults:window.__bt_intrnl.aaDetectionResults,settingsDiff:o},{severity:4})}}function ft(e,t){const n=["cta_button_color","custom_css","font_type","button_style"],r={};for(const o in t){const i=n.includes(o);if(e[o]!==t[o]&&!i)if(typeof e[o]=="object"&&typeof t[o]=="object"&&e[o]!==null&&t[o]!==null)if(Array.isArray(e[o])&&Array.isArray(t[o]))fo(e[o],t[o])||(r[o]={old:e[o],new:t[o]});else{const a=ft(e[o],t[o]);Object.keys(a).length>0&&(r[o]=a)}else r[o]={old:e[o],new:t[o]}}return r}function fo(e,t){return e.length!==t.length?!1:JSON.stringify([...e].sort())===JSON.stringify([...t].sort())}async function ho(e){return(e==null?void 0:e.dynamic_message_wall_mode_enabled)&&await F("dismiss")>=e.dynamic_wall_settings.dismiss_count}class go{constructor(t){R(this,"onDismiss",async t=>{bn().then(n=>{if(!n)return U({...t,event:"dismiss",detectedExtension:this.detectedExtension}),wn(t)})});this.detectedExtension=t}}class _o{constructor(t){R(this,"onDismiss",t=>{U({...t,event:"dismiss",detectedExtension:this.detectedExtension})});this.detectedExtension=t}}const mo=(e,t)=>t.render_mode==="api"&&t.api_mode==="wait"?new _o(e):new go(e);async function po(e,t,n){const{isActive:r,attributionExpiry:o}=await Ze(e,n);if(r&&!fe()&&(Ht(),w("rlink.appendKVP",{aaResults:window.__bt_intrnl.aaDetectionResults,attributionExpiry:o,consentData:window.__bt_intrnl.consentData},{severity:1})),!await Sn())return U({event:"recovered",recoveryType:e,detectedExtension:t}),Rn(e,o)}const bo=(e,t)=>{Un(e),U({event:"flattr",detectedExtension:t})},wo=async(e,t,n,r,o,i)=>{if(!window.__bt_intrnl.rlPVSent){window.__bt_intrnl.rlPVSent=!0;let a="non_ab_pageview";n.ab&&(a=n.acceptable?"aa_pageview":"ab_pageview");const{isActive:s}=await Ze(t,i);(e||s)&&U({event:a,detectedExtension:r,consentMessageShown:o}).catch(c=>{w("rlink.onPageViewError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:c instanceof Error?c.message:c},{severity:4})})}},yo=(e,t)=>{const[n]=S.performance.getEntriesByType("navigation"),r=(n==null?void 0:n.type)==="reload";!Ln()&&!r&&(Dn(),U({event:"navigate-away",detectedExtension:e,renderMode:t.render_mode}))};class vo{constructor(t,n,r){R(this,"out",{API_READY_EVENT:"bt-rlink-api-ready"});R(this,"interval");this.api=t,this.eventHandler=n,this.apiReadyEventInterval=r}async start(){this.api.start(),this.startDispatchingReadyEvent()}sendReadyEvent(){const t=this.api.getAPIPayload();this.eventHandler.dispatchEvent(new CustomEvent(this.out.API_READY_EVENT,{detail:{api:()=>(this.stopDispatchingReadyEvent(),t)}}))}startDispatchingReadyEvent(){this.sendReadyEvent(),this.interval=setInterval(()=>{this.sendReadyEvent()},this.apiReadyEventInterval)}stopDispatchingReadyEvent(){clearInterval(this.interval)}}class Ao{constructor(t,n){R(this,"shouldRender",!0);this.render=t,this.apiPreventWaitTime=n}start(){this.renderIfNotPrevented()}getAPIPayload(){return{prevent:()=>{this.preventRender()},render:()=>{this.render()}}}renderIfNotPrevented(){setTimeout(()=>{this.shouldRender&&this.render()},this.apiPreventWaitTime)}preventRender(){this.shouldRender=!1}}class So{constructor(t){this.render=t}start(){}getAPIPayload(){return{render:()=>{this.render()}}}}const Eo=200,Ro=50;class Io{constructor(t,n={},r=window){R(this,"eventManager");let o;const{mode:i="wait",apiReadyEventInterval:a=Eo,apiPreventWaitTime:s=Ro}=n;i==="auto"?o=new Ao(t,s):o=new So(t),this.eventManager=new vo(o,r,a)}expose(){this.eventManager.start()}}const ko=!0;(async()=>{var me,pe;if(window.__bt_rlink_already_invoked)return;Fn(),window.__bt_rlink_already_invoked=!0,ye("version","9adebee-am"),ye("isMobile",fe()?"true":"false");let e;try{e=await dt()}catch(_){w("rlink.getSettingsError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:_ instanceof Error?_.message:_},{severity:4}),e={}}const{allow_render_to_aa_users:t,hard_message_wall_mode_enabled:n,attribution_window_days:r,dynamic_message_wall_mode_enabled:o}=e;!o&&await F("dismiss")!==0&&await Ge(),!e.enabled&&ko&&await Se();const[i,a,s,c]=await Promise.all([Mt(),gn(e),tr(e),$n()]).catch(_=>(w("rlink.getDetectionError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:_ instanceof Error?_.message:_},{severity:4}),[]));let u="unknown";const p={adblockplus:"abp",adblock:"ab"};s!=null&&s.extensionInfo&&s.extensionInfo.name in p?u=p[s.extensionInfo.name]:u=await rn(),window.__bt_intrnl.consentData=c;const d=await En(e,i,(me=s==null?void 0:s.extensionInfo)==null?void 0:me.allowlistState);if(wo(e.enabled,d,i,u,c.consentShownInCurrentPV,r),!c.isConsentGiven){await Se();return}const L=ar(i,t)||c.consentShownInCurrentPV;if(!a&&L)return;const C=()=>{yo(u,e)},O=_=>{_==="subscribe"?window.addEventListener("beforeunload",C):window.removeEventListener("beforeunload",C)};if(d&&w("rlink.scaState",{aaResults:window.__bt_intrnl.aaDetectionResults,scaFlag:Ke(),recoveryType:d,extAllowlistState:(pe=s==null?void 0:s.extensionInfo)==null?void 0:pe.allowlistState},{severity:2}),e.enabled&&lo(e,i,d),d){po(d,u,r).catch(_=>{w("rlink.onRecoverError",{swRecovered:d,aaResults:window.__bt_intrnl.aaDetectionResults,error:_ instanceof Error?_.message:_},{severity:4})});return}const X=mo(u,e),V=async _=>{O("unsubscribe"),X.onDismiss(_)},_e=await pn();if(_e&&!n&&!o){V(_e);return}if(s!=null&&s.isPremium){bo(s,u);return}L||ir(e).then(_=>{_&&xt(async()=>{const{render:J}=await import("../assets/App-Cj8eQ_hi.js");return{render:J}},[]).then(({render:J})=>{const ht={settings:e,onDismiss:V,beforeUnload:O,detectedExtension:u,aaDetectionResults:i},be=()=>J(ht);e.render_mode==="api"?new Io(be,{mode:e.api_mode}).expose():be()})})})();export{cr as D,D as R,To as a,F as b,It as c,T as d,W as e,Lo as f,pn as g,xo as h,Se as i,ln as j,Do as k,w as l,Co as m,Ae as n,Bn as o,Ge as p,lr as q,$r as r,U as s,Mo as t,B as w};
//# sourceMappingURL=9adebee-am.js.map
